ARM GAS  C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"board.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text._SysTick_Config,"ax",%progbits
  16              		.align	1
  17              		.arch armv7-m
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	_SysTick_Config:
  24              	.LVL0:
  25              	.LFB80:
  26              		.file 1 "Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c"
   1:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** /*
   2:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****  * Copyright (c) 2006-2019, RT-Thread Development Team
   3:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****  *
   4:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****  * SPDX-License-Identifier: Apache-2.0
   5:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****  *
   6:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****  * Change Logs:
   7:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****  * Date           Author       Notes
   8:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****  * 2017-07-24     Tanek        the first version
   9:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****  * 2018-11-12     Ernest Chen  modify copyright
  10:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****  */
  11:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****  
  12:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #include <stdint.h>
  13:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #include <rthw.h>
  14:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #include <rtthread.h>
  15:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #include "usart.h"
  16:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #define _SCB_BASE       (0xE000E010UL)
  17:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #define _SYSTICK_CTRL   (*(rt_uint32_t *)(_SCB_BASE + 0x0))
  18:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #define _SYSTICK_LOAD   (*(rt_uint32_t *)(_SCB_BASE + 0x4))
  19:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #define _SYSTICK_VAL    (*(rt_uint32_t *)(_SCB_BASE + 0x8))
  20:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #define _SYSTICK_CALIB  (*(rt_uint32_t *)(_SCB_BASE + 0xC))
  21:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #define _SYSTICK_PRI    (*(rt_uint8_t  *)(0xE000ED23UL))
  22:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  23:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** // Updates the variable SystemCoreClock and must be called 
  24:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** // whenever the core clock is changed during program execution.
  25:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** extern void SystemCoreClockUpdate(void);
  26:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** // Holds the system core clock, which is the system clock
  27:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** // frequency supplied to the SysTick timer and the processor
  28:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** // core clock.
  29:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** extern uint32_t SystemCoreClock;
  30:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  31:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** static uint32_t _SysTick_Config(rt_uint32_t ticks)
  32:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** {
ARM GAS  C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s 			page 2


  27              		.loc 1 32 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  33:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     if ((ticks - 1) > 0xFFFFFF)
  32              		.loc 1 33 5 view .LVU1
  33              		.loc 1 33 16 is_stmt 0 view .LVU2
  34 0000 0138     		subs	r0, r0, #1
  35              	.LVL1:
  36              		.loc 1 33 8 view .LVU3
  37 0002 B0F1807F 		cmp	r0, #16777216
  38 0006 0DD2     		bcs	.L3
  34:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     {
  35:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         return 1;
  36:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     }
  37:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     
  38:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     _SYSTICK_LOAD = ticks - 1; 
  39              		.loc 1 38 5 is_stmt 1 view .LVU4
  40              		.loc 1 38 19 is_stmt 0 view .LVU5
  41 0008 074B     		ldr	r3, .L4
  42 000a 1860     		str	r0, [r3]
  39:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     _SYSTICK_PRI = 0xFF;
  43              		.loc 1 39 5 is_stmt 1 view .LVU6
  44              		.loc 1 39 18 is_stmt 0 view .LVU7
  45 000c 03F60F53 		addw	r3, r3, #3343
  46 0010 FF22     		movs	r2, #255
  47 0012 1A70     		strb	r2, [r3]
  40:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     _SYSTICK_VAL  = 0;
  48              		.loc 1 40 5 is_stmt 1 view .LVU8
  49              		.loc 1 40 19 is_stmt 0 view .LVU9
  50 0014 0020     		movs	r0, #0
  51              	.LVL2:
  52              		.loc 1 40 19 view .LVU10
  53 0016 A3F60B53 		subw	r3, r3, #3339
  54 001a 1860     		str	r0, [r3]
  41:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     _SYSTICK_CTRL = 0x07;  
  55              		.loc 1 41 5 is_stmt 1 view .LVU11
  56              		.loc 1 41 19 is_stmt 0 view .LVU12
  57 001c 083B     		subs	r3, r3, #8
  58 001e 0722     		movs	r2, #7
  59 0020 1A60     		str	r2, [r3]
  42:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     
  43:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     return 0;
  60              		.loc 1 43 5 is_stmt 1 view .LVU13
  61              		.loc 1 43 12 is_stmt 0 view .LVU14
  62 0022 7047     		bx	lr
  63              	.LVL3:
  64              	.L3:
  35:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     }
  65              		.loc 1 35 16 view .LVU15
  66 0024 0120     		movs	r0, #1
  67              	.LVL4:
  44:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** }
  68              		.loc 1 44 1 view .LVU16
  69 0026 7047     		bx	lr
  70              	.L5:
ARM GAS  C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s 			page 3


  71              		.align	2
  72              	.L4:
  73 0028 14E000E0 		.word	-536813548
  74              		.cfi_endproc
  75              	.LFE80:
  77              		.section	.text.rt_heap_begin_get,"ax",%progbits
  78              		.align	1
  79              		.weak	rt_heap_begin_get
  80              		.syntax unified
  81              		.thumb
  82              		.thumb_func
  83              		.fpu softvfp
  85              	rt_heap_begin_get:
  86              	.LFB81:
  45:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  46:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #if defined(RT_USING_USER_MAIN) && defined(RT_USING_HEAP)
  47:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #define RT_HEAP_SIZE 2048
  48:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** static uint32_t rt_heap[RT_HEAP_SIZE];     // heap default size: 4K(1024 * 4)
  49:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** RT_WEAK void *rt_heap_begin_get(void)
  50:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** {
  87              		.loc 1 50 1 is_stmt 1 view -0
  88              		.cfi_startproc
  89              		@ args = 0, pretend = 0, frame = 0
  90              		@ frame_needed = 0, uses_anonymous_args = 0
  91              		@ link register save eliminated.
  51:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     return rt_heap;
  92              		.loc 1 51 5 view .LVU18
  52:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** }
  93              		.loc 1 52 1 is_stmt 0 view .LVU19
  94 0000 0048     		ldr	r0, .L7
  95 0002 7047     		bx	lr
  96              	.L8:
  97              		.align	2
  98              	.L7:
  99 0004 00000000 		.word	rt_heap
 100              		.cfi_endproc
 101              	.LFE81:
 103              		.section	.text.rt_heap_end_get,"ax",%progbits
 104              		.align	1
 105              		.weak	rt_heap_end_get
 106              		.syntax unified
 107              		.thumb
 108              		.thumb_func
 109              		.fpu softvfp
 111              	rt_heap_end_get:
 112              	.LFB82:
  53:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  54:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** RT_WEAK void *rt_heap_end_get(void)
  55:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** {
 113              		.loc 1 55 1 is_stmt 1 view -0
 114              		.cfi_startproc
 115              		@ args = 0, pretend = 0, frame = 0
 116              		@ frame_needed = 0, uses_anonymous_args = 0
 117              		@ link register save eliminated.
  56:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     return rt_heap + RT_HEAP_SIZE;
 118              		.loc 1 56 5 view .LVU21
  57:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** }
ARM GAS  C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s 			page 4


 119              		.loc 1 57 1 is_stmt 0 view .LVU22
 120 0000 0048     		ldr	r0, .L10
 121 0002 7047     		bx	lr
 122              	.L11:
 123              		.align	2
 124              	.L10:
 125 0004 00200000 		.word	rt_heap+8192
 126              		.cfi_endproc
 127              	.LFE82:
 129              		.section	.text.rt_hw_board_init,"ax",%progbits
 130              		.align	1
 131              		.global	rt_hw_board_init
 132              		.syntax unified
 133              		.thumb
 134              		.thumb_func
 135              		.fpu softvfp
 137              	rt_hw_board_init:
 138              	.LFB83:
  58:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #endif
  59:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  60:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** /**
  61:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****  * This function will initial your board.
  62:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****  */
  63:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** void rt_hw_board_init()
  64:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** {
 139              		.loc 1 64 1 is_stmt 1 view -0
 140              		.cfi_startproc
 141              		@ args = 0, pretend = 0, frame = 0
 142              		@ frame_needed = 0, uses_anonymous_args = 0
 143 0000 10B5     		push	{r4, lr}
 144              	.LCFI0:
 145              		.cfi_def_cfa_offset 8
 146              		.cfi_offset 4, -8
 147              		.cfi_offset 14, -4
  65:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     /* System Clock Update */
  66:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     SystemCoreClockUpdate();
 148              		.loc 1 66 5 view .LVU24
 149 0002 FFF7FEFF 		bl	SystemCoreClockUpdate
 150              	.LVL5:
  67:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     MX_USART1_UART_Init();
 151              		.loc 1 67 5 view .LVU25
 152 0006 FFF7FEFF 		bl	MX_USART1_UART_Init
 153              	.LVL6:
  68:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     /* System Tick Configuration */
  69:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     _SysTick_Config(SystemCoreClock / RT_TICK_PER_SECOND);
 154              		.loc 1 69 5 view .LVU26
 155 000a 0A4B     		ldr	r3, .L14
 156 000c 1868     		ldr	r0, [r3]
 157 000e 0A4B     		ldr	r3, .L14+4
 158 0010 A3FB0030 		umull	r3, r0, r3, r0
 159 0014 8009     		lsrs	r0, r0, #6
 160 0016 FFF7FEFF 		bl	_SysTick_Config
 161              	.LVL7:
  70:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  71:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     /* Call components board initial (use INIT_BOARD_EXPORT()) */
  72:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #ifdef RT_USING_COMPONENTS_INIT
  73:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     rt_components_board_init();
ARM GAS  C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s 			page 5


 162              		.loc 1 73 5 view .LVU27
 163 001a FFF7FEFF 		bl	rt_components_board_init
 164              	.LVL8:
  74:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #endif
  75:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  76:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #if defined(RT_USING_USER_MAIN) && defined(RT_USING_HEAP)
  77:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     rt_system_heap_init(rt_heap_begin_get(), rt_heap_end_get());
 165              		.loc 1 77 5 view .LVU28
 166 001e FFF7FEFF 		bl	rt_heap_begin_get
 167              	.LVL9:
 168 0022 0446     		mov	r4, r0
 169 0024 FFF7FEFF 		bl	rt_heap_end_get
 170              	.LVL10:
 171 0028 0146     		mov	r1, r0
 172 002a 2046     		mov	r0, r4
 173 002c FFF7FEFF 		bl	rt_system_heap_init
 174              	.LVL11:
  78:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** #endif
  79:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** }
 175              		.loc 1 79 1 is_stmt 0 view .LVU29
 176 0030 10BD     		pop	{r4, pc}
 177              	.L15:
 178 0032 00BF     		.align	2
 179              	.L14:
 180 0034 00000000 		.word	SystemCoreClock
 181 0038 D34D6210 		.word	274877907
 182              		.cfi_endproc
 183              	.LFE83:
 185              		.section	.text.SysTick_Handler,"ax",%progbits
 186              		.align	1
 187              		.global	SysTick_Handler
 188              		.syntax unified
 189              		.thumb
 190              		.thumb_func
 191              		.fpu softvfp
 193              	SysTick_Handler:
 194              	.LFB84:
  80:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  81:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** void SysTick_Handler(void)
  82:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** {
 195              		.loc 1 82 1 is_stmt 1 view -0
 196              		.cfi_startproc
 197              		@ args = 0, pretend = 0, frame = 0
 198              		@ frame_needed = 0, uses_anonymous_args = 0
 199 0000 08B5     		push	{r3, lr}
 200              	.LCFI1:
 201              		.cfi_def_cfa_offset 8
 202              		.cfi_offset 3, -8
 203              		.cfi_offset 14, -4
  83:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     /* enter interrupt */
  84:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     rt_interrupt_enter();
 204              		.loc 1 84 5 view .LVU31
 205 0002 FFF7FEFF 		bl	rt_interrupt_enter
 206              	.LVL12:
  85:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  86:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     rt_tick_increase();
 207              		.loc 1 86 5 view .LVU32
ARM GAS  C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s 			page 6


 208 0006 FFF7FEFF 		bl	rt_tick_increase
 209              	.LVL13:
  87:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  88:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     /* leave interrupt */
  89:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     rt_interrupt_leave();
 210              		.loc 1 89 5 view .LVU33
 211 000a FFF7FEFF 		bl	rt_interrupt_leave
 212              	.LVL14:
  90:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** }
 213              		.loc 1 90 1 is_stmt 0 view .LVU34
 214 000e 08BD     		pop	{r3, pc}
 215              		.cfi_endproc
 216              	.LFE84:
 218              		.section	.text.rt_hw_console_output,"ax",%progbits
 219              		.align	1
 220              		.global	rt_hw_console_output
 221              		.syntax unified
 222              		.thumb
 223              		.thumb_func
 224              		.fpu softvfp
 226              	rt_hw_console_output:
 227              	.LVL15:
 228              	.LFB85:
  91:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  92:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** void rt_hw_console_output(const char *str)
  93:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** {
 229              		.loc 1 93 1 is_stmt 1 view -0
 230              		.cfi_startproc
 231              		@ args = 0, pretend = 0, frame = 8
 232              		@ frame_needed = 0, uses_anonymous_args = 0
 233              		.loc 1 93 1 is_stmt 0 view .LVU36
 234 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 235              	.LCFI2:
 236              		.cfi_def_cfa_offset 20
 237              		.cfi_offset 4, -20
 238              		.cfi_offset 5, -16
 239              		.cfi_offset 6, -12
 240              		.cfi_offset 7, -8
 241              		.cfi_offset 14, -4
 242 0002 83B0     		sub	sp, sp, #12
 243              	.LCFI3:
 244              		.cfi_def_cfa_offset 32
 245 0004 0546     		mov	r5, r0
  94:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     rt_size_t i = 0, size = 0;
 246              		.loc 1 94 5 is_stmt 1 view .LVU37
 247              	.LVL16:
  95:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     char a = '\r';
 248              		.loc 1 95 5 view .LVU38
 249              		.loc 1 95 10 is_stmt 0 view .LVU39
 250 0006 0D23     		movs	r3, #13
 251 0008 8DF80730 		strb	r3, [sp, #7]
  96:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  97:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     __HAL_UNLOCK(&huart1);
 252              		.loc 1 97 5 is_stmt 1 view .LVU40
 253              		.loc 1 97 5 view .LVU41
 254 000c 0024     		movs	r4, #0
 255 000e 0F4B     		ldr	r3, .L25
ARM GAS  C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s 			page 7


 256 0010 83F83840 		strb	r4, [r3, #56]
 257              		.loc 1 97 5 view .LVU42
  98:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
  99:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     size = rt_strlen(str);
 258              		.loc 1 99 5 view .LVU43
 259              		.loc 1 99 12 is_stmt 0 view .LVU44
 260 0014 FFF7FEFF 		bl	rt_strlen
 261              	.LVL17:
 262              		.loc 1 99 12 view .LVU45
 263 0018 0746     		mov	r7, r0
 264              	.LVL18:
 100:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     for (i = 0; i < size; i++)
 265              		.loc 1 100 5 is_stmt 1 view .LVU46
 266              		.loc 1 100 5 is_stmt 0 view .LVU47
 267 001a 0DE0     		b	.L19
 268              	.LVL19:
 269              	.L24:
 101:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     {
 102:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         if (*(str + i) == '\n')
 103:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         {
 104:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****             HAL_UART_Transmit(&huart1, (uint8_t *)&a, 1, 1);
 270              		.loc 1 104 13 is_stmt 1 view .LVU48
 271 001c 0123     		movs	r3, #1
 272 001e 1A46     		mov	r2, r3
 273 0020 0DF10701 		add	r1, sp, #7
 274 0024 0948     		ldr	r0, .L25
 275 0026 FFF7FEFF 		bl	HAL_UART_Transmit
 276              	.LVL20:
 277              	.L20:
 105:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         }
 106:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         HAL_UART_Transmit(&huart1, (uint8_t *)(str + i), 1, 1);
 278              		.loc 1 106 9 discriminator 2 view .LVU49
 279 002a 0123     		movs	r3, #1
 280 002c 1A46     		mov	r2, r3
 281 002e 3146     		mov	r1, r6
 282 0030 0648     		ldr	r0, .L25
 283 0032 FFF7FEFF 		bl	HAL_UART_Transmit
 284              	.LVL21:
 100:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     {
 285              		.loc 1 100 27 discriminator 2 view .LVU50
 100:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     {
 286              		.loc 1 100 28 is_stmt 0 discriminator 2 view .LVU51
 287 0036 0134     		adds	r4, r4, #1
 288              	.LVL22:
 289              	.L19:
 100:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     {
 290              		.loc 1 100 17 is_stmt 1 discriminator 1 view .LVU52
 100:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     {
 291              		.loc 1 100 5 is_stmt 0 discriminator 1 view .LVU53
 292 0038 BC42     		cmp	r4, r7
 293 003a 04D2     		bcs	.L23
 102:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         {
 294              		.loc 1 102 9 is_stmt 1 view .LVU54
 102:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         {
 295              		.loc 1 102 19 is_stmt 0 view .LVU55
 296 003c 2E19     		adds	r6, r5, r4
 102:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         {
ARM GAS  C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s 			page 8


 297              		.loc 1 102 13 view .LVU56
 298 003e 2B5D     		ldrb	r3, [r5, r4]	@ zero_extendqisi2
 102:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         {
 299              		.loc 1 102 12 view .LVU57
 300 0040 0A2B     		cmp	r3, #10
 301 0042 F2D1     		bne	.L20
 302 0044 EAE7     		b	.L24
 303              	.L23:
 107:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     }
 108:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** }
 304              		.loc 1 108 1 view .LVU58
 305 0046 03B0     		add	sp, sp, #12
 306              	.LCFI4:
 307              		.cfi_def_cfa_offset 20
 308              		@ sp needed
 309 0048 F0BD     		pop	{r4, r5, r6, r7, pc}
 310              	.LVL23:
 311              	.L26:
 312              		.loc 1 108 1 view .LVU59
 313 004a 00BF     		.align	2
 314              	.L25:
 315 004c 00000000 		.word	huart1
 316              		.cfi_endproc
 317              	.LFE85:
 319              		.section	.text.rt_hw_console_getchar,"ax",%progbits
 320              		.align	1
 321              		.global	rt_hw_console_getchar
 322              		.syntax unified
 323              		.thumb
 324              		.thumb_func
 325              		.fpu softvfp
 327              	rt_hw_console_getchar:
 328              	.LFB86:
 109:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** char rt_hw_console_getchar(void)
 110:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** {
 329              		.loc 1 110 1 is_stmt 1 view -0
 330              		.cfi_startproc
 331              		@ args = 0, pretend = 0, frame = 8
 332              		@ frame_needed = 0, uses_anonymous_args = 0
 111:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     int ch = -1;
 333              		.loc 1 111 5 view .LVU61
 334              	.LVL24:
 112:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** 
 113:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     if (__HAL_UART_GET_FLAG(&huart1, UART_FLAG_RXNE) != RESET)
 335              		.loc 1 113 5 view .LVU62
 336              		.loc 1 113 9 is_stmt 0 view .LVU63
 337 0000 0F4B     		ldr	r3, .L34
 338 0002 1B68     		ldr	r3, [r3]
 339 0004 1A68     		ldr	r2, [r3]
 340              		.loc 1 113 8 view .LVU64
 341 0006 12F0200F 		tst	r2, #32
 342 000a 03D0     		beq	.L28
 114:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     {
 115:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         ch = huart1.Instance->DR & 0xff;
 343              		.loc 1 115 9 is_stmt 1 view .LVU65
 344              		.loc 1 115 29 is_stmt 0 view .LVU66
 345 000c 5868     		ldr	r0, [r3, #4]
ARM GAS  C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s 			page 9


 346              		.loc 1 115 12 view .LVU67
 347 000e C0B2     		uxtb	r0, r0
 348              	.LVL25:
 116:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     }
 117:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     else
 118:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     {
 119:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         if (__HAL_UART_GET_FLAG(&huart1, UART_FLAG_ORE) != RESET)
 120:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         {
 121:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****             __HAL_UART_CLEAR_OREFLAG(&huart1);
 122:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         }
 123:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         rt_thread_mdelay(10);
 124:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     }
 125:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     return ch;
 349              		.loc 1 125 5 is_stmt 1 view .LVU68
 126:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** }...
 350              		.loc 1 126 1 is_stmt 0 view .LVU69
 351 0010 C0B2     		uxtb	r0, r0
 352              	.LVL26:
 353              		.loc 1 126 1 view .LVU70
 354 0012 7047     		bx	lr
 355              	.LVL27:
 356              	.L28:
 110:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c **** {
 357              		.loc 1 110 1 view .LVU71
 358 0014 00B5     		push	{lr}
 359              	.LCFI5:
 360              		.cfi_def_cfa_offset 4
 361              		.cfi_offset 14, -4
 362 0016 83B0     		sub	sp, sp, #12
 363              	.LCFI6:
 364              		.cfi_def_cfa_offset 16
 119:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         if (__HAL_UART_GET_FLAG(&huart1, UART_FLAG_ORE) != RESET)
 365              		.loc 1 119 9 is_stmt 1 view .LVU72
 119:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         if (__HAL_UART_GET_FLAG(&huart1, UART_FLAG_ORE) != RESET)
 366              		.loc 1 119 13 is_stmt 0 view .LVU73
 367 0018 1A68     		ldr	r2, [r3]
 119:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         if (__HAL_UART_GET_FLAG(&huart1, UART_FLAG_ORE) != RESET)
 368              		.loc 1 119 12 view .LVU74
 369 001a 12F0080F 		tst	r2, #8
 370 001e 06D0     		beq	.L30
 121:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****             __HAL_UART_CLEAR_OREFLAG(&huart1);
 371              		.loc 1 121 13 is_stmt 1 view .LVU75
 372              	.LBB2:
 121:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****             __HAL_UART_CLEAR_OREFLAG(&huart1);
 373              		.loc 1 121 13 view .LVU76
 374 0020 0022     		movs	r2, #0
 375 0022 0192     		str	r2, [sp, #4]
 121:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****             __HAL_UART_CLEAR_OREFLAG(&huart1);
 376              		.loc 1 121 13 view .LVU77
 377 0024 1A68     		ldr	r2, [r3]
 378 0026 0192     		str	r2, [sp, #4]
 121:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****             __HAL_UART_CLEAR_OREFLAG(&huart1);
 379              		.loc 1 121 13 view .LVU78
 380 0028 5B68     		ldr	r3, [r3, #4]
 381 002a 0193     		str	r3, [sp, #4]
 121:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****             __HAL_UART_CLEAR_OREFLAG(&huart1);
 382              		.loc 1 121 13 view .LVU79
ARM GAS  C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s 			page 10


 383 002c 019B     		ldr	r3, [sp, #4]
 384              	.L30:
 385              	.LBE2:
 121:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****             __HAL_UART_CLEAR_OREFLAG(&huart1);
 386              		.loc 1 121 13 discriminator 1 view .LVU80
 123:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****         rt_thread_mdelay(10);
 387              		.loc 1 123 9 discriminator 1 view .LVU81
 388 002e 0A20     		movs	r0, #10
 389 0030 FFF7FEFF 		bl	rt_thread_mdelay
 390              	.LVL28:
 111:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     int ch = -1;
 391              		.loc 1 111 9 is_stmt 0 discriminator 1 view .LVU82
 392 0034 4FF0FF30 		mov	r0, #-1
 393              	.LVL29:
 125:Middlewares/Third_Party/RealThread_RTOS_RT-Thread/bsp/board.c ****     return ch;
 394              		.loc 1 125 5 is_stmt 1 discriminator 1 view .LVU83
 395              		.loc 1 126 1 is_stmt 0 discriminator 1 view .LVU84
 396 0038 C0B2     		uxtb	r0, r0
 397              	.LVL30:
 398              		.loc 1 126 1 discriminator 1 view .LVU85
 399 003a 03B0     		add	sp, sp, #12
 400              	.LCFI7:
 401              		.cfi_def_cfa_offset 4
 402              		@ sp needed
 403 003c 5DF804FB 		ldr	pc, [sp], #4
 404              	.L35:
 405              		.align	2
 406              	.L34:
 407 0040 00000000 		.word	huart1
 408              		.cfi_endproc
 409              	.LFE86:
 411              		.section	.bss.rt_heap,"aw",%nobits
 412              		.align	2
 415              	rt_heap:
 416 0000 00000000 		.space	8192
 416      00000000 
 416      00000000 
 416      00000000 
 416      00000000 
 417              		.text
 418              	.Letext0:
 419              		.file 2 "d:\\work_project\\9 2019-q4-major\\arm-none-eabi\\include\\machine\\_default_types.h"
 420              		.file 3 "d:\\work_project\\9 2019-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 421              		.file 4 "Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtdef.h"
 422              		.file 5 "Middlewares/Third_Party/RealThread_RTOS_RT-Thread/components/finsh/finsh_api.h"
 423              		.file 6 "Drivers/CMSIS/Include/core_cm3.h"
 424              		.file 7 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 425              		.file 8 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xe.h"
 426              		.file 9 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 427              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 428              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 429              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 430              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 431              		.file 14 "Core/Inc/usart.h"
 432              		.file 15 "Middlewares/Third_Party/RealThread_RTOS_RT-Thread/include/rtthread.h"
ARM GAS  C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 board.c
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:16     .text._SysTick_Config:00000000 $t
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:23     .text._SysTick_Config:00000000 _SysTick_Config
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:73     .text._SysTick_Config:00000028 $d
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:78     .text.rt_heap_begin_get:00000000 $t
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:85     .text.rt_heap_begin_get:00000000 rt_heap_begin_get
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:99     .text.rt_heap_begin_get:00000004 $d
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:415    .bss.rt_heap:00000000 rt_heap
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:104    .text.rt_heap_end_get:00000000 $t
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:111    .text.rt_heap_end_get:00000000 rt_heap_end_get
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:125    .text.rt_heap_end_get:00000004 $d
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:130    .text.rt_hw_board_init:00000000 $t
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:137    .text.rt_hw_board_init:00000000 rt_hw_board_init
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:180    .text.rt_hw_board_init:00000034 $d
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:186    .text.SysTick_Handler:00000000 $t
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:193    .text.SysTick_Handler:00000000 SysTick_Handler
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:219    .text.rt_hw_console_output:00000000 $t
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:226    .text.rt_hw_console_output:00000000 rt_hw_console_output
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:315    .text.rt_hw_console_output:0000004c $d
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:320    .text.rt_hw_console_getchar:00000000 $t
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:327    .text.rt_hw_console_getchar:00000000 rt_hw_console_getchar
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:407    .text.rt_hw_console_getchar:00000040 $d
C:\Users\GKQ\AppData\Local\Temp\ccRP0C8H.s:412    .bss.rt_heap:00000000 $d

UNDEFINED SYMBOLS
SystemCoreClockUpdate
MX_USART1_UART_Init
rt_components_board_init
rt_system_heap_init
SystemCoreClock
rt_interrupt_enter
rt_tick_increase
rt_interrupt_leave
rt_strlen
HAL_UART_Transmit
huart1
rt_thread_mdelay
